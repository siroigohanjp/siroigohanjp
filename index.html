<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>スマログ</title>
  <style>
    :root{--cell:16px} /* ← 44pxから半分に縮小 */
    body{font-family: system-ui,-apple-system,Segoe UI,Roboto,"Hiragino Kaku Gothic ProN","Noto Sans JP",sans-serif;margin:0;background:#0f172a;color:#e6eef8}
    header{padding:12px 16px;background:#0b1220;box-shadow:0 2px 8px rgba(0,0,0,.6);display:flex;align-items:center;gap:12px}
    h1{margin:0;font-size:18px}
    #game{display:flex;gap:12px;padding:12px}
    #leftCol{position:relative}
    #status{position:absolute;left:-220px;top:0;width:200px;background:#071029;border:1px solid rgba(255,255,255,.04);padding:10px;border-radius:8px}
    #status h3{margin:0 0 8px 0;font-size:14px}
    #log{position:absolute;right:-260px;top:0;width:240px;height:260px;background:#071029;border:1px solid rgba(255,255,255,.04);padding:10px;border-radius:8px;overflow:auto}
    #grid{display:grid;grid-template-columns:repeat(10,var(--cell));grid-template-rows:repeat(10,var(--cell));gap:2px;background:#081426;padding:8px;border-radius:8px}
    .cell{width:var(--cell);height:var(--cell);display:flex;align-items:center;justify-content:center;font-size:10px;border-radius:4px}
    .floor{background:linear-gradient(180deg,#0b1630,#071428)}
    .wall{background:linear-gradient(180deg,#4b5563,#111827);box-shadow:inset 0 -6px 10px rgba(0,0,0,.6)}
    .player{background:linear-gradient(180deg,#154c8a,#0b3a6b);color:#fff}
    .monster{background:linear-gradient(180deg,#7b1f1f,#4b0f0f);color:#fff}
    .empty{background:transparent}
    #controls{display:flex;flex-direction:column;gap:6px;align-items:center;margin-top:12px}
    .row{display:flex;gap:6px}
    button{background:#0b1220;border:1px solid rgba(255,255,255,.05);color:#dfeeff;padding:8px 10px;border-radius:6px;cursor:pointer}
    button.big{padding:12px 16px}
    #footer{padding:12px;text-align:center;color:#98a0b3}
    /* battle panel */
    #battle{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);background:#041028;padding:14px;border-radius:10px;border:1px solid rgba(255,255,255,.04);display:none;z-index:40;width:320px}
    #battle h3{margin:0 0 8px 0}
  </style>
</head>
<body>
  <header>
    <h1>スマログ</h1>
    <div style="margin-left:auto;font-size:13px;color:#9fb2d6">ｖ0.0.1</div>
  </header>

  <div id="game">
    <div id="leftCol">
      <div id="status">
        <h3>ステータス</h3>
        <div id="statusContent">
          <!-- JS fills -->
        </div>
        <div style="margin-top:8px"><button id="restart">再生成 (地図/モンスター)</button></div>
      </div>

      <div id="log" aria-live="polite">
        <strong>ログ</strong>
        <div id="logContent" style="margin-top:8px;font-size:13px"></div>
      </div>

      <div id="grid" aria-label="マップ"></div>

      <div id="controls">
        <div class="row"><button data-dir="up" class="big">↑</button></div>
        <div class="row"><button data-dir="left">←</button><button data-dir="down">↓</button><button data-dir="right">→</button></div>
      </div>
    </div>
  </div>

  <div id="battle">
    <h3>戦闘</h3>
    <div id="battleInfo"></div>
    <div style="margin-top:8px">
      <button id="attackBtn">たたかう</button>
      <button id="fleeBtn">にげる</button>
    </div>
  </div>



<script>
// (JS 部分はそのまま)
</script>
</body>
</html>
